docker

https://docs.docker.com/glossary/
https://docs.docker.com/contribute/style/terminology/

dockerfile 
    recepy (blueprint) for creating an image
    can build on a parent image (specified by another docker file)
    
layer
    cached result of applying a line from a dockerfile 
    speeds up creating an image when steps can be reused
    
image (container image)
    result of running a docker file
    unmutable

container    
    mutable copy of an image, can be persistent
    docker run -d -p 80:80 docker/getting-started
    
kubernetes
    automates deployment, scaling, and management of containerized applications

docker hub
    github for docker things  

repository
    collection of docker images    
    
node
    thing that runs docker engine
    so it can run tasks 

service

swarm

task
    container + commands to run on that container
    
volume (data volume)
    persistent file system used by containers for permanent storage
    
docker on Pi
    sudo apt-get update
    sudo apt-get upgrade -y
    curl -sSL https://get.docker.com | sh
    sudo usermod -aG docker [user_name]
    docker version
    change hostname?
    sudo nano /etc/hostname
    sudo nano /etc/hosts
    
docker on windows
    install docker desktop
    start it after reboot
        
    
    

================================================   

https://docs.ros.org/en/humble/
https://docs.ros.org/en/humble/Tutorials.html
https://github.com/ros2/examples/tree/rolling/rclcpp/topics/minimal_subscriber

ros2
    more sane version of ros
    unified thin C++ / Python interfaces on top of same C features
    
humble
    (Humble Hawksbill)
    https://docs.ros.org/en/humble/
    as of 2023 the latest version of ros2

topic
    distributed data
    ros2 topic 
        list
        info <topic>
        echo <topic> 
        pub <topic> <type> <data> --once --rate
        hz <topic>
    ros2 interface show <topic>    

interface
    communication between ros nodes
    can be message, service or action
    https://design.ros2.org/articles/interface_definition.html
    
message
    one-way publish-subscribe (default queued) interface
    .msg file describes a message
    in msg/ directory of a ROS package

service
    request / response interface
    .srv describes a service (request and response)
    
action 
    request - feedback - final interface
    
package  
    collection of nodes  

parameter
    configuration value for a node
    
node
    participant in ROS communication
    
image message
    http://docs.ros.org/en/noetic/api/sensor_msgs/html/msg/Image.html
    http://docs.ros.org/en/noetic/api/std_msgs/html/msg/Header.html

bag file
    timed recording of topics
   
==================================================================

install docker
docker build github.com/wovo/sccots#main:ros -t sccots - not on windows :(
docker build github.com/wovo/sccots#main -f ros -t sccots
docker run --name work --rm --device "/dev/video0:/dev/video0" -it sccots 
docker restart work
docker attach work
docker stop work
docker remove -f work
docker exec -it work bash
docker logs work
ros2 run demo_nodes_cpp listener
ros2 run demo_nodes_cpp talker

two docker containers on the same machine communicate

attaching/deattaching: https://docs.docker.com/engine/reference/commandline/attach/
(security concerns)

docker build options
https://docs.docker.com/engine/reference/commandline/build/

cd home

=====================================================================

https://docs.ros.org/en/foxy/Releases.html
humble not on Ubuntu
galactic not supported??
-> use foxy

install ros2 on Ubuntu

sudo apt update
sudo apt upgrade
sudo apt install -y ros-foxy-desktop
sudo apt install -y libopencv-dev python3-opencv

in the docker:
cd root
bash
source /*.sh
(error when in / immediately exits the shell)

X11 from inside docker seems possible
https://github.com/clayrisser/docker-gtk
# -e DISPLAY=($DISPLAY) -v /tmp/.X11-unix:/tmp/.X11-unix

https://answers.ros.org/question/358453/ros2-docker-multiple-hosts/
docker run --rm --net=host --pid=host <IMAGE>

docker run --net=host --pid=host --name work --rm -v ~/work:/root/work --device "/dev/video0:/dev/video0" -it sccots bash

feh -Z -R 1 -Y
capture has a few seconds delay, but that seems to be the camera
@pi larger images are not received
